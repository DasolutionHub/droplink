<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="DropLink - Share your live location with customers via WhatsApp in one click">
  <meta name="theme-color" content="#0f3e14">
  <link rel="manifest" href="/manifest.json">
  <title>DropLink | Professional Location Sharing</title>

  <!-- Fonts & Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-dark: #000;
      --gradient-start: #001100;
      --gradient-end: #004d00;
      --primary: #00ff88;
      --primary-light: #33ffaa;
      --text-light: #e0e0e0;
      --text-dark: #ccc;
      --border-radius: 12px;
      --transition: all 0.3s ease;
    }
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Inter',sans-serif; }
    body {
      background: var(--bg-dark);
      color: var(--text-light);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }
    body::before {
      content:'';
      position:fixed; top:0; left:0; width:100%; height:100%;
      background-image: radial-gradient(rgba(0,255,100,0.2) 1px, transparent 1px);
      background-size:20px 20px;
      pointer-events:none; z-index:0;
    }
    .container {
      position:relative; z-index:1;
      max-width:1000px; width:100%; margin:0 auto; padding:20px;
    }
    header { display:flex; justify-content:space-between; align-items:center; padding:20px 0; }
    .logo { display:flex; align-items:center; gap:12px; font-weight:700; font-size:1.8rem; color:var(--primary); }
    .nav-links { display:flex; gap:25px; }
    .nav-links a { text-decoration:none; color:var(--text-dark); font-weight:500; transition:var(--transition); }
    .nav-links a:hover { color:var(--primary-light); }
    .hero { text-align:center; margin:40px 0; }
    .hero h1 {
      font-size:3rem; line-height:1.2;
      background:linear-gradient(90deg,var(--gradient-start),var(--gradient-end));
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .hero p { font-size:1.1rem; color:var(--text-dark); max-width:700px; margin:15px auto; }
    .app-container { display:flex; gap:30px; flex-wrap:wrap; }
    .app-card {
      background:rgba(0,0,0,0.6); border-radius:var(--border-radius);
      padding:30px; flex:1 1 45%; box-shadow:0 4px 20px rgba(0,0,0,0.8); transition:var(--transition);
    }
    .app-card:hover { transform:translateY(-5px); box-shadow:0 8px 30px rgba(0,0,0,1); }
    .app-card h2 { color:var(--primary); margin-bottom:20px; display:flex; align-items:center; gap:10px; font-weight:600; }
    .input-group { margin-bottom:20px; }
    .input-group label { display:flex; align-items:center; gap:8px; margin-bottom:8px; font-weight:500; color:var(--text-light); }
    .input-field {
      width:100%; padding:14px; border:1px solid rgba(255,255,255,0.2);
      background:rgba(255,255,255,0.05); color:var(--text-light);
      border-radius:var(--border-radius); transition:var(--transition);
    }
    .input-field:focus { border-color:var(--primary); outline:none; background:rgba(255,255,255,0.1); }
    .btn {
      background:var(--primary); color:#000; padding:14px 28px; font-size:1.1rem;
      font-weight:600; border:none; border-radius:var(--border-radius); cursor:pointer; transition:var(--transition);
    }
    .btn:hover { background:var(--primary-light); transform:translateY(-2px); }
    .btn i { margin-right:8px; }
    .preview {
      background:rgba(255,255,255,0.05); border-left:4px solid var(--primary);
      padding:20px; border-radius:var(--border-radius); color:var(--text-light);
    }
    .whatsapp-button {
      display:block; text-align:center; padding:14px; margin-top:20px; font-weight:600;
      background:var(--primary); color:#000; text-decoration:none; border-radius:var(--border-radius); transition:var(--transition);
    }
    .whatsapp-button:hover { background:var(--primary-light); transform:translateY(-2px); }
    .validation-message { font-size:0.9rem; display:flex; align-items:center; gap:8px; }
    .validation-success { color:#22c55e; }
    .validation-error { color:#ef4444; }
    .confirmation { margin-top:10px; font-weight:600; color:#22c55e; }
    footer { text-align:center; padding:30px 0; margin-top:auto; color:var(--text-dark); font-size:0.9rem; }
    @media(max-width:768px){ .app-card{ flex:1 1 100%; } .nav-links{ display:none; } }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo"><i class="fas fa-paper-plane"></i><span>DropLink</span></div>
      <nav class="nav-links">
        <a href="#"><i class="fas fa-home"></i> Home</a>
        <a href="#"><i class="fas fa-question-circle"></i> How It Works</a>
        <a href="#"><i class="fas fa-dollar-sign"></i> Pricing</a>
        <a href="#"><i class="fas fa-user"></i> Login</a>
      </nav>
    </header>
    <section class="hero">
      <h1>Share Your Live Location Instantly</h1>
      <p>Empower riders with a sleek, one-click solution to share real-time locations via WhatsApp‚Äîboosting delivery speed and trust.</p>
    </section>
    <div class="app-container">
      <div class="app-card">
        <h2><i class="fas fa-map-marker-alt"></i> Delivery Info</h2>
        <div class="input-group"><label for="location"><i class="fas fa-link"></i> Google Maps Live Link</label><input type="text" id="location" class="input-field" placeholder="https://maps.app.goo.gl/..." /><div id="locationValidation" class="validation-message"></div></div>
        <div class="input-group"><label for="customerPhone"><i class="fas fa-phone"></i> Customer Phone</label><input type="tel" id="customerPhone" class="input-field" placeholder="e.g. 09012345678" /></div>
        <button id="generateBtn" class="btn"><i class="fas fa-paper-plane"></i> Generate Message</button>
      </div>
      <div class="app-card">
        <h2><i class="fas fa-eye"></i> Preview & Send</h2>
        <div class="preview"><div id="messagePreview" style="white-space:pre-line;">üì¶ Hello [Name], your delivery is on the way!
üö¥ Track it live: [Link]
üë§ Rider: [Rider]
üôè Powered by DropLink</div></div>
        <a id="whatsappButton" class="whatsapp-button" style="display:none;"><i class="fab fa-whatsapp"></i> Send via WhatsApp</a>
        <div id="confirmation" class="confirmation" style="display:none;"><i class="fas fa-check-circle"></i> Message Sent!</div>
      </div>
    </div>
    <footer>¬© 2025 DropLink | A High-Tech Logistics Solution</footer>
  </div>

  <script>
    // PWA service worker registration
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js');
    }

    const locInput = document.getElementById('location');
    const phoneInput = document.getElementById('customerPhone');
    const valMsg = document.getElementById('locationValidation');
    const genBtn = document.getElementById('generateBtn');
    const waBtn = document.getElementById('whatsappButton');
    const msgPrev = document.getElementById('messagePreview');
    const confirmEl = document.getElementById('confirmation');

    function validateLink(url) {
      const pattern = /^https:\/\/maps\.(app\.goo\.gl|google\.com\/maps)/;
      const valid = pattern.test(url.trim());
      valMsg.textContent = valid ? '‚úîÔ∏è Valid link' : '‚ùå Invalid link';
      valMsg.className = 'validation-message ' + (valid ? 'validation-success' : 'validation-error');
      return valid;
    }

    function formatPhone(phone) {
      let num = phone.replace(/[^0-9+]/g, '');
      if (num.startsWith('0')) num = '234' + num.slice(1);
      if (num.startsWith('+')) num = num.slice(1);
      return num;
    }

    function generate() {
      if (!validateLink(locInput.value)) return;
      if (!phoneInput.value) { phoneInput.focus(); return; }

      const link = locInput.value.trim();
      const phone = formatPhone(phoneInput.value.trim());
      const message = `üì¶ Hello! Your delivery is on the way.\nüö¥ Track live: ${link}\nüôè Powered by DropLink`;

      msgPrev.textContent = message;
      waBtn.href = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
      waBtn.style.display = 'block';
      confirmEl.style.display = 'none';
    }

    genBtn.addEventListener('click', generate);
    waBtn.addEventListener('click', function (e) {
      e.preventDefault();
      window.open(waBtn.href, '_blank');
      confirmEl.style.display = 'block';
      setTimeout(() => confirmEl.style.display = 'none', 3000);
    });

    locInput.addEventListener('input', () => {
      if (!locInput.value) valMsg.textContent = '';
      else validateLink(locInput.value);
    });
  </script>
</body>
</html>

